
Handover of RealFlow, Rhino, GrassHopper and Illustrator files for Team MELT.

## Spread of Contamination

A RealFlow file showing particles spreading from the fracking sites.

### RealFlow File

- `Spread of Contamination\RealFlow\MELT Ground Water 06.flw`

On opening the file you will need to reference the two .obj files:
- `Spread of Contamination\RealFlow\Polluted Wells 8.obj`
- `Spread of Contamination\RealFlow\Settlements.obj`

Daemons within scene:
- Some drag daemons around the area of the reservoir to stop the particles spread to it.
- A noise filter adds a little variation to the contamination spread.
- Attractors at various points (some bounded by objects) attempt to get particles to stop in that area, these were I presume areas we wanted to appear contaminated, probably the surrounding settlements.

I designed the file to make it simple (in theory..) to change or add additional fracking sites. The particles are emitted from the 'Emitters' object in the scene. This object is generated by a Grasshopper script in Rhino Refer to section *Export Polluted Wells*.

### Rhino + Grasshopper files

Open both:
- `Spread of Contamination\MELT Fracking Emitters LE 04.3dm`
- `Spread of Contamination\MELT Ground Water Emitter 09.gh`

The Rhino file is an old version of Martino's map, you should be able to drop in the latest version with all the new fracking locations.

The Grasshopper file requires the Human Tools plugin.

#### Export Polluted Wells to RealFlow

Refer to the top line / section of the Grasshopper file *Export to RealFlow*

1. Right click on the "All Polluted Pts" element 
2. Set multiple geometries
3. Select all polluted wells
4. Move to the end of the line and hit bake (you can always use the preview tool first)
5. Cylinders should have been baked to the layer "reaflow"
6. Right click the "realflow" layer > select objects
7. File Export selected > .obj file type > Set vertex welding to Welded
8. Import this object into RealFlow and set it as the new emitter. 

The Grasshopper script should have scaled and moved the object to an appropriate place and scale for RealFlow.


#### Import particles from RealFlow

The next line / section in the RealFlow file is for importing the particles from RealFlow and doing the reverse of the last grasshopper script. In this case moving the particle coordinates from RealFlow's 0,0,0 position and scaling them up to match the Real World coordinates we're using in Rhino.

1. So, under the section *Import From RealFlow* set the *RealFlow Emitter Path* to 
`C:\DOCUMENTS\PATH\TO\Spread of Contamination\RealFlow\particles\particles`

It should definitely end with `particles/particles` the script will append `_FRAMENUMBER.asc` and using grasshoppers *Import Coords* function will import the particle coordinates straight from the `.asc` file generated by RealFlow

> aside: Import Coords is an infinitely better way of importing particles to Grasshopper than messing around with creating `.csv` files.

2. Set the *Frame number* Using either the value list (currently set to 135) or reattach the Number slider and use that. The particles for the specific frame will now be loaded.
3. Scroll to the end of the line to preview / bake the particles to the file.
4. The points will be baked to the `particles` layer. Select them and export them to Illustrator or keep them in Rhino. (If I recall correctly exporting `.ai` ignores points but I think you can export to `.dwg`, `.dxf` or similar CAD format which will import to Illustrator.


## Ground Water Modelling

An attempt at simulating ground water movement in RealFlow.

### RealFlow File
- `Demonstrating Groundwater Movement\RealFlow\MELT Aquifer 06b.flw`

On opening the file you will need to reference the .obj file:
- `Demonstrating Groundwater Movement\RealFlow\aquifer v4 feed.obj`
- `Demonstrating Groundwater Movement\RealFlow\aquifer v7.obj`

Daemons within scene
- Various wind daemons move the particles through pipes.

The pipes are a hollow `.obj` file generated by a Grasshopper file. Again, I scripted it so the `.obj` could easily be modified and regenerated.

### Rhino + Grasshopper files

Open both:
- `Demonstrating Groundwater Movement\Grasshopper\MELT Ground Water Model 05.gh`
- `Demonstrating Groundwater Movement\Grasshopper\MELT Ground Water Model 05.3dm`

#### Export a New Aquifer Object

Within the grasshopper file are various groups of elements *Upper Aquifer*, *Aquifer Path*, , *Lower Aquifer* each of these are linked to a line on the `input lines` layer of the Rhino file. 

The script wraps a pipe around the lines to form the aquifer object. You can duplicate a section in the Grasshopper file and link it to a new line to add additional pipes to the object.

1. Scroll to the right to bake/preview the new object.
2. Select the baked object
3. File Export selected > .obj file type > Set vertex welding to Welded
